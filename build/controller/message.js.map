{"version":3,"file":"message.js","names":["createMessage","req","res","message","Message","name","body","email","save","error","status","SERVER_ERROR","json","allMessages","find","deleteMessage","findByIdAndRemove","params","id","send","OK"],"sources":["../../src/controller/message.js"],"sourcesContent":["import Message from \"../database/models/message\";\r\nimport status from \"../config/status\";\r\n\r\nexport const createMessage = async (req, res) => {\r\n  try {\r\n    const message = new Message({\r\n      name: req.body.name,\r\n      email: req.body.email,\r\n      message: req.body.message,\r\n    });\r\n\r\n    message.save((error) => {\r\n      if (error) {\r\n        res.status(status.SERVER_ERROR).json(error);\r\n      } else {\r\n        res.json(message);\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return res.status(status.SERVER_ERROR).json(error);\r\n  }\r\n};\r\n\r\nexport const allMessages = (req, res)=>{\r\n  try{\r\n    Message.find((error, message)=>{\r\n      if(error){\r\n        res.json(error);\r\n      }else{\r\n        res.json(message);\r\n      }\r\n    })\r\n  }catch(error){\r\n    return res.status(status.SERVER_ERROR).json(error);\r\n  }\r\n}\r\n\r\nexport const deleteMessage = (req, res)=>{\r\n  try{\r\n    Message.findByIdAndRemove(req.params.id, (error)=>{\r\n      if(error){\r\n        res.send(error);\r\n      }else{\r\n        res.status(status.OK).json({message:'Message deleted successfully'});\r\n      }\r\n    })\r\n  }catch(error){\r\n    return res.status(status.SERVER_ERROR).json(error);\r\n  }\r\n}\r\n"],"mappings":";;;;;;;AAAA;AACA;AAAsC;AAAA,+CAAtC;AAAA;AAAA;AAEO,IAAMA,aAAa;EAAA,sEAAG,iBAAOC,GAAG,EAAEC,GAAG;IAAA;IAAA;MAAA;QAAA;UAAA;UAElCC,OAAO,GAAG,IAAIC,mBAAO,CAAC;YAC1BC,IAAI,EAAEJ,GAAG,CAACK,IAAI,CAACD,IAAI;YACnBE,KAAK,EAAEN,GAAG,CAACK,IAAI,CAACC,KAAK;YACrBJ,OAAO,EAAEF,GAAG,CAACK,IAAI,CAACH;UACpB,CAAC,CAAC;UAEFA,OAAO,CAACK,IAAI,CAAC,UAACC,KAAK,EAAK;YACtB,IAAIA,KAAK,EAAE;cACTP,GAAG,CAACQ,MAAM,CAACA,kBAAM,CAACC,YAAY,CAAC,CAACC,IAAI,CAACH,KAAK,CAAC;YAC7C,CAAC,MAAM;cACLP,GAAG,CAACU,IAAI,CAACT,OAAO,CAAC;YACnB;UACF,CAAC,CAAC;UAAC;UAAA;QAAA;UAAA;UAAA;UAAA,iCAEID,GAAG,CAACQ,MAAM,CAACA,kBAAM,CAACC,YAAY,CAAC,CAACC,IAAI,aAAO;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAErD;EAAA,gBAlBYZ,aAAa;IAAA;EAAA;AAAA,GAkBzB;AAAC;AAEK,IAAMa,WAAW,GAAG,SAAdA,WAAW,CAAIZ,GAAG,EAAEC,GAAG,EAAG;EACrC,IAAG;IACDE,mBAAO,CAACU,IAAI,CAAC,UAACL,KAAK,EAAEN,OAAO,EAAG;MAC7B,IAAGM,KAAK,EAAC;QACPP,GAAG,CAACU,IAAI,CAACH,KAAK,CAAC;MACjB,CAAC,MAAI;QACHP,GAAG,CAACU,IAAI,CAACT,OAAO,CAAC;MACnB;IACF,CAAC,CAAC;EACJ,CAAC,QAAMM,KAAK,EAAC;IACX,OAAOP,GAAG,CAACQ,MAAM,CAACA,kBAAM,CAACC,YAAY,CAAC,CAACC,IAAI,CAACH,KAAK,CAAC;EACpD;AACF,CAAC;AAAA;AAEM,IAAMM,aAAa,GAAG,SAAhBA,aAAa,CAAId,GAAG,EAAEC,GAAG,EAAG;EACvC,IAAG;IACDE,mBAAO,CAACY,iBAAiB,CAACf,GAAG,CAACgB,MAAM,CAACC,EAAE,EAAE,UAACT,KAAK,EAAG;MAChD,IAAGA,KAAK,EAAC;QACPP,GAAG,CAACiB,IAAI,CAACV,KAAK,CAAC;MACjB,CAAC,MAAI;QACHP,GAAG,CAACQ,MAAM,CAACA,kBAAM,CAACU,EAAE,CAAC,CAACR,IAAI,CAAC;UAACT,OAAO,EAAC;QAA8B,CAAC,CAAC;MACtE;IACF,CAAC,CAAC;EACJ,CAAC,QAAMM,KAAK,EAAC;IACX,OAAOP,GAAG,CAACQ,MAAM,CAACA,kBAAM,CAACC,YAAY,CAAC,CAACC,IAAI,CAACH,KAAK,CAAC;EACpD;AACF,CAAC;AAAA"}